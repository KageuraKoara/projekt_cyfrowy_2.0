[gd_scene load_steps=24 format=3 uid="uid://5b1mwsoorbrf"]

[ext_resource type="Script" uid="uid://b05mfiyf4wugg" path="res://Scenes/levels/game.gd" id="1_excbq"]
[ext_resource type="PackedScene" uid="uid://c0txe0f57ssv5" path="res://Scenes/note.tscn" id="1_ksju7"]
[ext_resource type="PackedScene" uid="uid://d384mg7fb6l2e" path="res://Scenes/chord_manager.tscn" id="2_bahl2"]
[ext_resource type="AudioStream" uid="uid://butrua1wugngf" path="res://sounds/Concerto In G Minor for Violin, String Orchestra and Continuo, Op. 8, No. 2, RV 315, Lestate....mp3" id="3_mm8aj"]
[ext_resource type="PackedScene" uid="uid://dth7isd7m8d0p" path="res://Scenes/stave_line.tscn" id="3_v6ha0"]
[ext_resource type="AudioStream" uid="uid://cmn5xley5ak03" path="res://sounds/harpsichord/c.wav" id="4_iav0o"]
[ext_resource type="AudioStream" uid="uid://dm0kxdy441gp8" path="res://sounds/harpsichord/d.wav" id="5_dnkej"]
[ext_resource type="AudioStream" uid="uid://bd1ay2nk80rar" path="res://sounds/harpsichord/e_m.wav" id="6_mm8aj"]
[ext_resource type="AudioStream" uid="uid://cm3j6p2ky2s5m" path="res://sounds/harpsichord/f.wav" id="7_wtwp4"]
[ext_resource type="AudioStream" uid="uid://31ikrg5orx4f" path="res://sounds/harpsichord/g.wav" id="8_iwr0g"]
[ext_resource type="AudioStream" uid="uid://bp2ejswd7psgg" path="res://sounds/harpsichord/a.wav" id="9_bahl2"]
[ext_resource type="PackedScene" uid="uid://b0vf6neoqgkk4" path="res://Scenes/player.tscn" id="9_dsuda"]
[ext_resource type="AudioStream" uid="uid://bb08rjssv0vm6" path="res://sounds/harpsichord/b.wav" id="10_np2pn"]
[ext_resource type="PackedScene" uid="uid://t1pibog7rmnq" path="res://Scenes/conductor.tscn" id="12_iav0o"]
[ext_resource type="PackedScene" uid="uid://d1tvv5smk3qyf" path="res://Scenes/hourglass.tscn" id="12_wtwp4"]
[ext_resource type="PackedScene" uid="uid://dl86hcthk4cl3" path="res://Scenes/death.tscn" id="17_bahl2"]
[ext_resource type="Script" uid="uid://bhexx6mj1xv3q" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="17_flpb6"]
[ext_resource type="Script" uid="uid://8umksf8e80fw" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="18_v6ha0"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="19_v6uk5"]
[ext_resource type="PackedScene" uid="uid://bewunkqqfpobr" path="res://Scenes/UI/UI.tscn" id="20_n3ge2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dsuda"]
size = Vector2(2112, 60.3221)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s5b24"]
size = Vector2(20, 391.419)

[sub_resource type="Resource" id="Resource_gmpev"]
script = ExtResource("18_v6ha0")
duration = 1.0
transition = 0
ease = 2

[node name="Level1" type="Node"]
script = ExtResource("1_excbq")

[node name="ChordManager" parent="." instance=ExtResource("2_bahl2")]

[node name="Stave" type="Node" parent="."]

[node name="stave_line_0" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/C")
type = "line"

[node name="stave_line_1" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/D")
type = "space"
id = 1

[node name="stave_line_2" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/E")
type = "line"
id = 2

[node name="stave_line_3" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/F")
type = "space"
id = 3

[node name="stave_line_4" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/G")
type = "line"
id = 4

[node name="stave_line_5" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/A")
type = "space"
id = 5

[node name="stave_line_6" parent="Stave" node_paths=PackedStringArray("note") instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
note = NodePath("../../Notes/B")
type = "line"
id = 6

[node name="stave_line_7" parent="Stave" instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
type = "space"
id = 7

[node name="stave_line_8" parent="Stave" instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
type = "line"
id = 8

[node name="stave_line_9" parent="Stave" instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
type = "space"
id = 9

[node name="stave_line_10" parent="Stave" instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
type = "line"
id = 10

[node name="stave_line_11" parent="Stave" instance=ExtResource("3_v6ha0")]
position = Vector2(500, 0)
type = "space"
id = 11

[node name="Notes" type="Node" parent="."]

[node name="C" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_0")
input = "C"
pitch = ExtResource("4_iav0o")

[node name="D" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_1")
input = "D"
pitch = ExtResource("5_dnkej")

[node name="E" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_2")
input = "E"
pitch = ExtResource("6_mm8aj")

[node name="F" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_3")
input = "F"
pitch = ExtResource("7_wtwp4")

[node name="G" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_4")
input = "G"
pitch = ExtResource("8_iwr0g")

[node name="A" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_5")
input = "A"
pitch = ExtResource("9_bahl2")

[node name="B" parent="Notes" node_paths=PackedStringArray("stave_line") instance=ExtResource("1_ksju7")]
position = Vector2(4, -132)
stave_line = NodePath("../../Stave/stave_line_6")
input = "B"
pitch = ExtResource("10_np2pn")

[node name="Conductor" parent="." instance=ExtResource("12_iav0o")]
stream = ExtResource("3_mm8aj")
volume_db = -40.0

[node name="Hourglass" parent="." instance=ExtResource("12_wtwp4")]
position = Vector2(232, 45)

[node name="Player" parent="." instance=ExtResource("9_dsuda")]
position = Vector2(249, 495)
safe_margin = 0.8

[node name="SceneCollisions" type="StaticBody2D" parent="."]
position = Vector2(577.641, 679.839)

[node name="Floor" type="CollisionShape2D" parent="SceneCollisions"]
light_mask = 3
visibility_layer = 3
position = Vector2(-32.6408, -30.8389)
shape = SubResource("RectangleShape2D_dsuda")

[node name="Wall_Left" type="CollisionShape2D" parent="SceneCollisions"]
position = Vector2(-1079.64, -246.839)
shape = SubResource("RectangleShape2D_s5b24")

[node name="Wall_Right" type="CollisionShape2D" parent="SceneCollisions"]
position = Vector2(1014.36, -237.839)
shape = SubResource("RectangleShape2D_s5b24")

[node name="Death" parent="." instance=ExtResource("17_bahl2")]
position = Vector2(800, 440)
min_attackCD = null
max_attackCD = null

[node name="PhantomCamera2D" type="Node2D" parent="." node_paths=PackedStringArray("follow_targets")]
top_level = true
position = Vector2(499.5, 351)
script = ExtResource("17_flpb6")
follow_mode = 3
follow_targets = [NodePath("../Player"), NodePath("../Death")]
tween_resource = SubResource("Resource_gmpev")
follow_damping = true
follow_damping_value = Vector2(0.3, 0.3)
auto_zoom = true
auto_zoom_min = 0.5
auto_zoom_max = 1.0
auto_zoom_margin = Vector4(250, 0, 200, 0)
draw_limits = true
limit_left = -570
limit_bottom = 675
metadata/_custom_type_script = "uid://bhexx6mj1xv3q"

[node name="Camera2D" type="Camera2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(499.5, 351)
process_callback = 0
limit_left = -570
limit_bottom = 675
editor_draw_limits = true

[node name="Ui" parent="Camera2D" instance=ExtResource("20_n3ge2")]
offset_left = -499.5
offset_top = -351.0
offset_right = -499.5
offset_bottom = -351.0

[node name="Top" parent="Camera2D/Ui/Hourglass_top" index="0" node_paths=PackedStringArray("lvl1")]
lvl1 = NodePath("../../../..")

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("19_v6uk5")
metadata/_custom_type_script = "uid://bd046eokvcnu2"

[connection signal="beat" from="Conductor" to="." method="_on_Conductor_beat"]
[connection signal="time_ran_out" from="Hourglass" to="." method="_on_hourglass_time_ran_out"]
[connection signal="death_hit" from="Death" to="." method="_on_death_hit"]

[editable path="Camera2D/Ui"]
